<?xml version='1.0' encoding='UTF-8' ?>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Registro de clientes</title>
        <link rel="stylesheet" href="/Prestamos-war/paginas/css3/Clientes.css"/>
    </h:head>
    <h:body>
<h:form class="frmCliente">
            <p:tabMenu activeIndex="#{param.i}">
                <p:menuitem value="Calculadora de Cuotas" icon="ui-icon-wrench" url="acceso.jsf" >
                    <f:param name="i" value="0" />
                </p:menuitem>
                <p:menuitem value="Clientes"  icon="ui-icon-document"  url="buscarClientes.jsf">
                    <f:param name="i" value="2" />
                </p:menuitem>

                <p:menuitem value="Nuevo Prestamo"  icon="ui-icon-document" url="nuevoPrestamo.jsf">
                    <f:param name="i" value="4" />            
                </p:menuitem>


                <p:menuitem value="Pagos"  icon="ui-icon-document" url="pagos.jsf">
                    <f:param name="i" value="3" />
                </p:menuitem>



                <p:menuitem value="Contabilidad"  icon="ui-icon-document" url="catalogoDeCuentas.jsf">
                    <f:param name="i" value="3" />
                </p:menuitem>


                <p:menuitem value="Registrar usuarios"  icon="ui-icon-document" url="registrarUsuarios.jsf">
                    <f:param name="i" value="3" />
                </p:menuitem>

            </p:tabMenu>
        </h:form>


<section class="contenedorCliente">
    
        <p:tabView id="tView" activeIndex="0">
            <p:tab id="tabFrmCliente" title="Formulario Cliente">
                <h:form id="frmDetalle">

                    <h:panelGrid columns="2" rendered="#{clientes.renderDetalles}">

                        <h:outputLabel value="Nombres" for="txtNombres" id="lblNombre"></h:outputLabel>
                        <h:inputText id="txtNombres"  value="#{clientes.registro.nombre}"></h:inputText>

                        <h:outputLabel value="Apellidos" for="txtApellidos" id="lblApellidos"></h:outputLabel>
                        <h:inputText id="txtApellidos"  value="#{clientes.registro.apellidos}"></h:inputText>

                        <h:outputLabel value="DUI" for="txtDUI" id="lblDUI"></h:outputLabel>
                        <h:inputText id="txtDUI"  value="#{clientes.registro.dui}"></h:inputText>

                        <h:outputLabel value="NIT" for="txtNIT" id="lblNIT"></h:outputLabel>
                        <h:inputText id="txtNIT"  value="#{clientes.registro.nit}"></h:inputText>

                        <h:outputLabel value="Direccion" for="txtDireccion" id="lblDireccion"></h:outputLabel>
                        <h:inputText id="txtDireccion"  value="#{clientes.registro.direccion}"></h:inputText>

                        <h:outputLabel value="Telefono" for="txtTelefono" id="lblTelefono"></h:outputLabel>
                        <h:inputText id="txtTelefono"  value="#{clientes.registro.telefono}"></h:inputText>

                        <h:outputLabel value="Profesion" for="txtProfesion" id="lblProfesion"></h:outputLabel>
                        <h:inputText id="txtProfesion"  value="#{clientes.registro.profesion}"></h:inputText>

                        <h:outputLabel value="Email" for="txtEmail" id="lblEmail"></h:outputLabel>
                        <h:inputText id="txtEmail"  value="#{clientes.registro.email}"></h:inputText>

                    </h:panelGrid>

                    <h:panelGrid columns="2">
                        <h:commandButton value="Nuevo" actionListener="#{clientes.btnNuevoAction(ae)}" rendered="#{clientes.nuevo}"></h:commandButton>
                        <h:commandButton value="Modificar" actionListener="#{clientes.btnModificarAction(ae)}" rendered="#{clientes.editar}"></h:commandButton>
                        <h:commandButton value="Guardar" actionListener="#{clientes.btnCrearAction(ae)}" rendered="#{clientes.crear}"></h:commandButton>
                        <h:commandButton value="Eliminar" actionListener="#{clientes.btnEliminarAction(ae)}" rendered="#{clientes.editar}"></h:commandButton>
                        <h:commandButton value="Cancelar" actionListener="#{clientes.btnCancelarAction(ae)}" rendered="#{clientes.cancelar}"></h:commandButton>
                    </h:panelGrid>
                </h:form>
            </p:tab>
        </p:tabView> 


        <p:panel header="Clientes" closable="false" toggleable="false">
            <h:panelGrid>
                <h:form>
                    <p:dataTable 
                        lazy="true"
                        value="#{clientes.modelo}"
                        var="a"
                        first="0"
                        paginator="true"
                        rows="50"
                        selectionMode="single"
                        selection="#{clientes.registro}"
                        >

                        <p:column headerText="Dui">
                            <p:outputLabel value="#{a.dui}"></p:outputLabel>
                        </p:column>
                        <p:column headerText="Nombre">
                            <p:outputLabel value="#{a.nombre}"></p:outputLabel>
                        </p:column>
                        <p:column headerText="Apellido">
                            <p:outputLabel value="#{a.apellidos}"></p:outputLabel>
                        </p:column>
                        <p:column headerText="profesion">
                            <p:outputLabel value="#{a.profesion}"></p:outputLabel>
                        </p:column>
                        <p:column headerText="Telefono">
                            <p:outputLabel value="#{a.telefono}"></p:outputLabel>
                        </p:column>
                        <p:column headerText="Email">
                            <p:outputLabel value="#{a.email}"></p:outputLabel>
                        </p:column>
                        <p:column headerText="Nit">
                            <p:outputLabel value="#{a.nit}"></p:outputLabel>
                        </p:column>


                        <p:ajax update=":tView:frmDetalle" event="rowSelect" listener="${clientes.mostrarDetalles}"></p:ajax>
                    </p:dataTable>
                    <h:messages showDetail="true"></h:messages>
                </h:form>

            </h:panelGrid>
        </p:panel>  </section>
    </h:body>
</html>